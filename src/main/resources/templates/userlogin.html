<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"></meta>
    <title>登录</title>
</head>
<body>
<p>淘宝用户登录</p>
<p id = "tip"></p>
<p> 姓名：<input id="username" name="userName" /></p>
<p> 密码：<input id="userpassword" name="userPassword"/></p>
<button type="submit" onclick="userlogin()">登录</button>
</body>
<script type="text/javascript" th:src="@{/js/jquery-3.3.1.min.js}"></script>
<script type="text/javascript">
    function userlogin() {

        var username = $("#username").val();
        var password = $("#userpassword").val();

        $.ajax({
            url:"/user/judgelogin",
            data:{"userName":username,"userPassword":password},
            success:function(result){

                if(result==1){
                    window.location.href='/index';//登录成功
                }else if(result==0){
                    $("#tip").text("账号或密码错误");
                }else if(result==2){
                    $("#tip").text("账号未激活");
                }else{
                    alert("未知")
                }
            }
        })

    }
    </script>
</html>